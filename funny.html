<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>å—¨çš®æ¿€åŠ±ç«™ğŸ‰</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&display=swap');

  html, body {
    margin: 0; padding: 0;
    height: 100%;
    background: #fffae3;
    overflow: hidden;
    font-family: 'Comic Neue', cursive, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    user-select: none;
    color: #ff4d6d;
  }

  .container {
    background: #fff0f6cc;
    border: 5px dashed #ff4d6d;
    padding: 40px 50px;
    border-radius: 30px;
    max-width: 700px;
    text-align: center;
    box-shadow: 0 0 20px #ff4d6d99;
    position: relative;
    z-index: 10;
  }

  h1 {
    font-size: 50px;
    margin-bottom: 30px;
    color: #ff4d6d;
    text-shadow: 2px 2px #ffa3b1;
    animation: bounce 1.8s ease infinite alternate;
  }

  .message {
    font-size: 26px;
    min-height: 150px;
    line-height: 1.5;
    margin-bottom: 40px;
    color: #ff4d6dcc;
    opacity: 0;
    transition: opacity 0.6s ease;
  }

  .message.show {
    opacity: 1;
  }

  button {
    background: #ff4d6d;
    border: none;
    color: white;
    font-weight: 900;
    font-size: 22px;
    padding: 14px 45px;
    border-radius: 50px;
    cursor: pointer;
    box-shadow:
      0 0 15px #ff4d6d,
      0 0 25px #ff85a2;
    transition: background 0.3s ease, transform 0.2s ease;
  }

  button:hover {
    background: #ff6691;
    transform: scale(1.1);
  }

  @keyframes bounce {
    0% { transform: translateY(0); }
    100% { transform: translateY(-20px); }
  }

  /* é—ªçƒéœ“è™¹çº¿æ¡èƒŒæ™¯ */
  #neon-lines {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    z-index: 1;
  }

  .balloon, .star {
    position: absolute;
    pointer-events: none;
    user-select: none;
  }

</style>
</head>
<body>

<canvas id="neon-lines"></canvas>

<div class="container">
  <h1>å—¨èµ·æ¥ï¼ğŸ‰</h1>
  <div class="message" id="message"></div>
  <button id="nextBtn">æ¥ç‚¹å¼€å¿ƒçš„ï¼</button>
</div>

<audio id="bgm" src="https://cdn.pixabay.com/download/audio/2022/03/26/audio_63dff3c53c.mp3?filename=party-funk-15387.mp3" autoplay loop></audio>

<script>
  // --- æ–‡æ¡ˆ ---
  const messages = [
    "è€ƒè¯•æ²¡è¿‡ï¼Ÿåˆ«æ…Œï¼äººç”Ÿçš„èˆå°è¿˜é•¿ç€å‘¢ï¼Œè·³èµ·æ¥ï¼ğŸ•º",
    "å¤±è´¥æ˜¯æˆåŠŸçš„å‰å¥æ›²ï¼Œå…ˆæ¥æ®µå°¬èˆçƒ­çƒ­åœºï¼ğŸ’ƒ",
    "åˆ†æ•°ä½ï¼Ÿæ²¡äº‹ï¼Œä½ å¯æ˜¯ç”Ÿæ´»çš„è¹¦åºŠé«˜æ‰‹ï¼ğŸ¤¸â€â™€ï¸",
    "è€ƒè¯•æŒ‚ç§‘ç®—å•¥ï¼Œé‡ç‚¹æ˜¯ä½ æœ‰é¢—ä¼šå—¨çš„å¿ƒï¼ğŸˆ",
    "è¾“äº†æ²¡å…³ç³»ï¼Œç¬‘ç€ç‹‚æ¬¢æ‰æ˜¯ç‹é“ï¼ğŸ˜„",
    "ä½ çš„äººç”Ÿæ˜¯æ´¾å¯¹ï¼Œæ²¡é€šè¿‡è¿™åœºè€ƒè¯•ï¼Œæ¢ä¸ªèˆæ›²ç»§ç»­å—¨ï¼ğŸ¶",
    "åˆ«ç°å¿ƒï¼Œäººç”Ÿå°±æ˜¯ä¸€åœºäº”å½©ç¼¤çº·çš„å½©è™¹ç³–ï¼ğŸ¬",
    "å¤±è´¥çš„æ—¶å€™ï¼Œåˆ«å¿˜äº†ç»™è‡ªå·±æ¥ä¸ªç–¯ç‹‚è‡ªæ‹ï¼ğŸ¤³",
    "è€ƒè¯•ä¸ç†æƒ³ï¼Ÿé‚£å°±å¼€ä¸ªå°æ´¾å¯¹åº†ç¥ï¼Œç»§ç»­highï¼ğŸ¥³",
    "éš¾é¢˜æ¥äº†ï¼Ÿæ¥ï¼Œå–å£æ°´ï¼Œåšä¸ªé¬¼è„¸ï¼Œæ‰­èµ·æ¥ï¼ğŸ˜œ",
    "åŠ æ²¹å“¦ï¼ŒæˆåŠŸçš„ç§˜è¯€å°±æ˜¯ï¼šå—¨ç€å‰è¿›ï¼Œç¬‘ç€ç¿»ç›˜ï¼ğŸ˜†",
    "è€ƒè¯•ä¸¢åˆ†äº†ï¼ŸOKï¼Œäººç”Ÿè¿˜é•¿ï¼Œæˆ‘ä»¬ç»§ç»­å—¨çš®ï¼ğŸŒˆ",
    "äººç”Ÿçš„å½©è›‹ï¼Œå°±æ˜¯è€ƒè¯•æŒ‚ç§‘åçš„ç–¯ç‹‚å—¨å”±ï¼ğŸ¤",
    "å¤±è´¥åªæ˜¯æ´¾å¯¹é‡Œçš„çƒŸèŠ±ï¼Œç»šçƒ‚äº†åˆæ•£å»ï¼ğŸ†",
    "åˆ«ç°å¿ƒï¼Œç¿»ç›˜çš„èŠ‚å¥å·²ç»ä¸Šäº†ï¼Œå‡†å¤‡ç‡ƒçƒ§å§ï¼ğŸ”¥",
    "è€ƒè¯•ä¸é¡ºï¼Ÿé‚£å°±è·³ä¸ªæ°æ°ï¼Œç”©æ‰çƒ¦æ¼ï¼ğŸ’ƒ",
    "ç”Ÿæ´»å·²ç»å¤Ÿä¸¥è‚ƒäº†ï¼Œä½ å¾—ç”¨å—¨æ­Œå’Œçˆ†ç±³èŠ±ç‚¸è£‚å®ƒï¼ğŸ¿",
    "æ¯å¤©éƒ½æ˜¯partyæ—¥ï¼Œå¤±è´¥äº†å°±æ‘‡æ‘†èµ·æ¥ï¼ğŸ•º",
    "è€ƒè¯•å¤±è´¥æ²¡äº‹ï¼Œä½ æ˜¯æ´¾å¯¹é‡Œæœ€é“çš„ä»”ï¼âœ¨",
    "ç¬‘ä¸€ç¬‘ï¼Œå—¨ä¸€å—¨ï¼Œæœªæ¥è‚¯å®šå—¨ç¿»å¤©ï¼ğŸ˜"
  ];

  const messageEl = document.getElementById('message');
  const btn = document.getElementById('nextBtn');
  let index = 0;

  function showMessage(i) {
    messageEl.classList.remove('show');
    setTimeout(() => {
      messageEl.textContent = messages[i];
      messageEl.classList.add('show');
    }, 200);
  }

  btn.addEventListener('click', () => {
    index = (index + 1) % messages.length;
    showMessage(index);
    createPopcornEffect();
  });

  showMessage(index);

  // --- éœ“è™¹é—ªçƒçº¿æ¡èƒŒæ™¯ ---
  const canvas = document.getElementById('neon-lines');
  const ctx = canvas.getContext('2d');
  let width, height;

  function resize() {
    width = canvas.width = window.innerWidth;
    height = canvas.height = window.innerHeight;
  }
  window.addEventListener('resize', resize);
  resize();

  const lines = [];
  const lineCount = 20;

  class NeonLine {
    constructor() {
      this.x = Math.random() * width;
      this.y = Math.random() * height;
      this.length = 200 + Math.random() * 200;
      this.speed = 0.5 + Math.random();
      this.offset = Math.random() * 1000;
      this.color = `hsl(${Math.floor(Math.random()*360)}, 100%, 70%)`;
      this.direction = Math.random() > 0.5 ? 1 : -1;
    }
    draw(time) {
      const alpha = 0.5 + 0.5 * Math.sin((time + this.offset) * this.speed);
      ctx.strokeStyle = this.color;
      ctx.globalAlpha = alpha;
      ctx.lineWidth = 3;
      ctx.beginPath();
      ctx.moveTo(this.x, this.y);
      ctx.lineTo(this.x + this.length * this.direction, this.y);
      ctx.stroke();
      ctx.globalAlpha = 1;
    }
    update() {
      this.x += this.speed * this.direction;
      if(this.x > width + this.length) this.x = -this.length;
      if(this.x < -this.length) this.x = width + this.length;
    }
  }

  for(let i=0; i<lineCount; i++) {
    lines.push(new NeonLine());
  }

  function animateLines(time=0) {
    ctx.clearRect(0,0,width,height);
    lines.forEach(line => {
      line.update();
      line.draw(time/1000);
    });
    requestAnimationFrame(animateLines);
  }
  animateLines();

  // --- å½©è‰²çˆ†ç±³èŠ±æ•ˆæœ ---
  const popcornContainer = document.createElement('div');
  popcornContainer.style.position = 'fixed';
  popcornContainer.style.top = 0;
  popcornContainer.style.left = 0;
  popcornContainer.style.width = '100%';
  popcornContainer.style.height = '100%';
  popcornContainer.style.pointerEvents = 'none';
  popcornContainer.style.zIndex = '20';
  document.body.appendChild(popcornContainer);

  function randomInt(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
  }

  function createPopcornEffect() {
    const count = 25;
    for(let i=0; i<count; i++) {
      const pop = document.createElement('div');
      pop.textContent = 'ğŸ¿';
      pop.style.position = 'absolute';
      pop.style.fontSize = `${randomInt(14, 28)}px`;
      pop.style.left = `${randomInt(0, window.innerWidth)}px`;
      pop.style.top = `${randomInt(0, window.innerHeight)}px`;
      pop.style.opacity = '1';
      pop.style.transition = 'all 1.5s ease-out';
      pop.style.pointerEvents = 'none';

      popcornContainer.appendChild(pop);

      setTimeout(() => {
        pop.style.transform = `translateY(-100px) translateX(${randomInt(-50,50)}px) rotate(${randomInt(-360,360)}deg) scale(0)`;
        pop.style.opacity = '0';
      }, 50);

      setTimeout(() => {
        popcornContainer.removeChild(pop);
      }, 1600);
    }
  }

  // ç‚¹å‡»å±å¹•ç‚¸å‡ºçˆ†ç±³èŠ±
  document.body.addEventListener('click', e => {
    createPopcornEffect();
  });

  // è‡ªåŠ¨åˆ‡æ¢æ–‡æ¡ˆ
  setInterval(() => {
    index = (index + 1) % messages.length;
    showMessage(index);
    createPopcornEffect();
  }, 9000);

  // è‡ªåŠ¨æ’­æ”¾éŸ³é¢‘ï¼ˆç”¨æˆ·äº¤äº’åï¼‰
  window.addEventListener('click', () => {
    const audio = document.getElementById("bgm");
    if(audio.paused) audio.play().catch(() => {});
  });
</script>

</body>
</html>
